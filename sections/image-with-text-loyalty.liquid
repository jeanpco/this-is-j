<div class="img-text img-text--{{ section.settings.order }}"
  style="background-color: {{ section.settings.bg }};"
>
  <div class="img-text__content-wrapper">
    <div class="img-text__content">
      {%- if section.settings.title != blank -%}
        <h1>{{ section.settings.title }}</h1>
      {%- endif -%}
      {%- if section.settings.content != blank -%}
        <div>{{ section.settings.content }}</div>
      {%- endif -%}
    </div>
  </div>
  <div class="img-text__image">
    {%- if section.settings.image -%}
      {{ section.settings.image | image_url: width: 1800 | image_tag }}
    {%- endif -%}
  </div>
</div>

<style>
  .img-text {
    display: grid;
    grid-template-areas: "image" "content";
    grid-template-columns: 1fr;
  }

  @media only screen and (min-width: 769px) {
    .img-text {
      grid-template-areas: "content image";
      grid-template-columns: 1fr 1fr;
    }

    .img-text--left {
      grid-template-areas: "image content";
    }
  }

  .img-text__content-wrapper {
    grid-area: content;
  }

  .img-text__content {
    max-width: 400px;
    margin: 12rem auto;
    padding: 1rem;
    text-align: center;
  }

  @media only screen and (max-width: 768px) {
    .img-text__content {
      margin: 2rem auto;
      text-align: center;
    }
  }

  .img-text__image {
    grid-area: image;
  }

  .img-text__image > img {
    height: 100%;
    object-fit: cover;
    object-position: center;
    width: 100%;
  }
</style>

{% schema %}
{
  "name": "Image with text",
  "tag": "section",
  "settings": [
    {
      "type": "color",
      "id": "bg",
      "label": "Background",
      "default": "#F9F8F5"
    },
    {
      "type": "text",
      "id": "title",
      "label": "Title",
      "default": "Section Title"
    },
    {
      "type": "textarea",
      "id": "content",
      "label": "Content",
      "default": "<p>Section content<\/p>",
      "info": "Accepts HTML"
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "Image"
    },
    {
      "type": "select",
      "id": "order",
      "label": "Image position",
      "options": [
        { "label": "Left", "value": "left" },
        { "label": "Right", "value": "right" }
      ],
      "default": "left",
      "info": "Only applies to desktop"
    }
  ]
}
{% endschema %}